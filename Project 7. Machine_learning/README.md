# Предсказание оттока клиентов в фитнес-центре

**Описание проекта:** 

Мы работаем в сети фитнес-центров «Культурист-датасаентист», которая разрабатывает стратегию взаимодействия с клиентами на основе аналитических данных.  
Распространённая проблема фитнес-клубов и других сервисов — отток клиентов. Как понять, что клиент больше не с вами? Можно записать в отток тех, кто попросил закрыть договор или удалил аккаунт. Однако клиенты не всегда уходят демонстративно: чаще перестают пользоваться сервисом тихо.  
Для фитнес-центра можно считать, что клиент попал в отток, если за последний месяц ни разу не посетил спортзал. 
Чтобы бороться с оттоком, отдел по работе с клиентами «Культуриста-датасаентиста» перевёл в электронный вид множество клиентских анкет. Наша задача — провести анализ и подготовить план действий по удержанию клиентов.

**Задачи:**

1. Изучить исходные данные и провести их предобработку.
2. Провести исследовательский анализ данных (EDA).
3. Построить модель прогнозирования оттока клиентов и оценить ее метрики.
4. Произвести кластеризацию клиентов и спрогнозировать отток кластеров.
5. Сформулировать выводы и разработать рекомендации по повышению качества работы с клиентами.

**Используемые библиотеки и методы:** 

*Pandas*, *Scikit-learn*, *Seaborn*, *Matplotlib*, *SciPy*, машинное обучение, классификация, кластеризация, визуализация данных 

**Выводы:**

- ДФ в идеальном состоянии - дубликаты и пропуска отсутствуют, типы данных верные. Учитывая квартили и логически анализируя жизненный опыт, можно сказать, что аномальных значений в ДФ не наблюдается, все они выглядят правдоподобно и естественно. Для удобства заменены только названия столбцов.
    
- если сравнить средние значения с медианами с учетом стандартного отклонения, можно увидеть, что клиенты по полу, партнерской программе, факту посещения групповых программ, возрасту и количеству посещений в неделю за все время распределены равномерно, по локации большая часть живет рядом с ФЦ, не пользовалась услугой "приведи друга", предоставила контактный номер, оформила краткосрочный договор на услуги (и соответственно с небольшим сроком до окончания его действия), суммы покупок доп.услуг и количество посещений в неделю последний месяцскошены влево к небольшим значениям.
 
    
- по средним значениям **видна большая лояльность тех клиентов, кто не ушел**, и меньшая тех, кто уже ушел, а именно:
 - **в 5 раз больше срок пользования услугами ФЦ** (4.7 месяцев против 1)
 - **в 3 раза выше срок договора** (5.7 месяцев против 1.7) и **срок до окончания действия договора** (5,3 месяца против 1.6) 
 - **в два раза больше посещений за последний месяц** (2 против 1) и **в полтора раза за весь период** (2 против 1.5)
 - **в два и полтора раза соответственно выше факт скидочных программ за приведенного друга и за компанию-партнера** (35% и 53% против 18% и 36% соответственно)
 - **в полтора раза больше средние покупки в фитнес-центре** (159 против 115) **и количество клиентов, посещающих групповые занятия** (46% против 27%) 
 - возраст и количество посещений в неделю за все время и за месяц распределены нормально, а сумма покупок и время пользований услугами ФЦ скошены в сторону нулевых значений
- по шкале Чеддока у нас имеется **умеренная обратная корреляция между склонностью к оттоку и сроком действия/до конца действия договора, количеством посещений занятий в последний месяц, сроком пользования услугами ФЦ, возрастом**
 - **количество посещений в неделю за все время и за последний месяц сильно коррелируют между собой**. Так же, как и **срок действия договора и время до его окончания**, что вполне логично
    
- построив модели логистической регрессии, случайного леса, дерева принятия решений и градиентного бустинга прогнозирования оттока клиентов, по метрикам *Accuracy*, *Precision*, *Recall*, *F1*, *ROC_AUC* мы получили примерно одинаковые результаты, однако **градиентный бустинг показал себя все-таки лучше всех** остальных.  
- в связи с тем, что нам важнее не упустить склонного к оттоку клиента, чем обозначить таковым лояльного, мы запустили наши модели **со сниженным порогом вероятности** отнесения к этой склонности и получили при незначительном ухудшении метрики *Precision* **улучшение интересующей нас метрики *Recall***. При этом, все еще лучшей остается градиентный бустинг.   

- построив дендрограмму, разбили всех пользователей на 5 кластеров   
- по полученной информации обучили модель кластеризации на основании алгоритма K-Means и спрогнозировали кластеры клиентов.  
- по кластерам просматриваются явные закономерности - **у кластера клиентов, склонных к оттоку, все показатели самые низкие.** В частности, у него самый низкий показатель средних посещений за последний месяц и за все время, покупок товаров и услуг, срока пользования услугами и срока до окончания их действия, а также процент клиентов, посещающих групповые занятия и имеющих акционные предложения как сотрудник компании, а также даже самый низкий средний возраст.  
- визуализация подтвердила высказанные выше закономерности. **Если в остальных кластерах имеется равномерное распределение по количеству занятий за весь период и последний месяц, то в 3 кластере эти показатели смещены к нулю.** По срокам действия договора этот кластер так же выделяется на фоне остальных своей близостью к нулю. **И как итоге - у него наибольшие значения по оттоку.**

**Рекомендации по удержанию клиентов, склонных к окончанию использования услуг фитнес-центра:**     

- предоставлять скидки на продление абонемента и пользования доп.услугами и товарами ФЦ
- предлагать участвовать в групповых программах 
- предлагать продлевать договор на более длительный срок, предоставляя дополнительные скидки за это
- предоставлять несколько бесплатных вводных программ с тренером для поддержания интереса к занятиям**